extends ../../layouts/default.pug 
include ../../mixins/alert.pug


block main
    +alert-error(3000)
    +alert-success(3000)
    h1(class = "mb-4") Phân quyền 

    if(role)
        div(data-records = role)
        div(class = "text-right")
            button(
                type = "submit"
                class = "btn btn-primary mb-3"
                button-submit
            ) Cập nhật 
        
        table(
            class = "table table-hover table-sm"
            table-permissions
        )
            thead
                tr 
                    th Tính năng
                    each item in role
                        th(class ="text-center") #{item.title} 
            tbody
                tr(data-name = "id" class="d-none")
                    td 
                        each item in role 
                            td(class ="text-center")
                                input(type = "text" value = item.id)

                //- ! Danh sách sản phẩm 
                tr 
                    td(clospan = "4")
                        b Danh sách sản phẩm 
                    tr(data-name = "products_view")
                        td Xem
                        each item in role  
                            td(class = "text-center")
                                input(type = "checkbox")
                    tr(data-name = "products_create")
                        td Thêm mới
                        each item in role  
                            td(class = "text-center")
                                input(type = "checkbox")

                    tr(data-name = "products_edit")
                        td Chỉnh sửa 
                        each item in role  
                            td(class = "text-center")
                                input(type = "checkbox")

                    tr(data-name = "products_delete")
                        td Xóa
                        each item in role  
                            td(class = "text-center")
                                input(type = "checkbox")
                //- ! Danh muc san pham 
                tr 
                    td(clospan = "4")
                        b Danh mục sản phẩm 
                    tr(data-name = "products-category_view")
                        td Xem
                        each item in role  
                            td(class = "text-center")
                                input(type = "checkbox")
                    tr(data-name = "products-category_create")
                        td Thêm mới
                        each item in role  
                            td(class = "text-center")
                                input(type = "checkbox")

                    tr(data-name = "products-category_edit")
                        td Chỉnh sửa 
                        each item in role  
                            td(class = "text-center")
                                input(type = "checkbox")

                    tr(data-name = "products-category_delete")
                        td Xóa
                        each item in role  
                            td(class = "text-center")
                                input(type = "checkbox")
                //- ! Nhóm quyền
                tr 
                    td(clospan = "4")
                        b Nhóm quyền
                    tr(data-name = "roles_view")
                        td Xem
                        each item in role  
                            td(class = "text-center")
                                input(type = "checkbox")
                    tr(data-name = "roles_create")
                        td Thêm mới
                        each item in role  
                            td(class = "text-center")
                                input(type = "checkbox")

                    tr(data-name = "roles_edit")
                        td Chỉnh sửa 
                        each item in role  
                            td(class = "text-center")
                                input(type = "checkbox")

                    tr(data-name = "roles_delete")
                        td Xóa
                        each item in role  
                            td(class = "text-center")
                                input(type = "checkbox")

                    tr(data-name = "roles_permissions")
                        td Phân quyền
                        each item in role  
                            td(class = "text-center")
                                input(type = "checkbox")
                //- ! Danh sách tài khoản
                tr 
                    td(clospan = "4")
                        b Danh sách tài khoản
                    tr(data-name = "account_view")
                        td Xem
                        each item in role  
                            td(class = "text-center")
                                input(type = "checkbox")
                    tr(data-name = "account_create")
                        td Thêm mới
                        each item in role  
                            td(class = "text-center")
                                input(type = "checkbox")

                    tr(data-name = "account_edit")
                        td Chỉnh sửa 
                        each item in role  
                            td(class = "text-center")
                                input(type = "checkbox")

                    tr(data-name = "account_delete")
                        td Xóa
                        each item in role  
                            td(class = "text-center")
                                input(type = "checkbox")


    form(
        id = "form-change-permission"
        method = "POST"
        action = `${prefixAdmin}/roles/permissions?_method=PATCH`
        class = "d-none"
    )
        div(class ="form-group")
            input(
                type = "text"
                class = "form-control"
                name = "permissions"
            )
    script(src = "/admin/js/role.js")
                

